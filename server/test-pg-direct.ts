import dotenv from 'dotenv'; import pg from 'pg'; dotenv.config(); console.log('DATABASE_URL=', process.env.DATABASE_URL); const client = new pg.Client({ connectionString: process.env.DATABASE_URL, ssl: { rejectUnauthorized: false } }); async function testConnection() { try { await client.connect(); console.log('Connection successful!'); await client.query('SELECT 1'); console.log('Query successful!'); await client.end(); } catch (error) { console.error('Connection failed:', error); } } testConnection();
