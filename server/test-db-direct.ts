import dotenv from 'dotenv'; import { Sequelize } from 'sequelize'; dotenv.config(); console.log('DATABASE_URL=', process.env.DATABASE_URL); const sequelize = new Sequelize(process.env.DATABASE_URL?.replace('pooler.', '') || '', { dialect: 'postgres', dialectOptions: { ssl: { require: true, rejectUnauthorized: false } } }); async function testConnection() { try { await sequelize.authenticate(); console.log('Connection successful!'); } catch (error) { console.error('Connection failed:', error); } } testConnection();
